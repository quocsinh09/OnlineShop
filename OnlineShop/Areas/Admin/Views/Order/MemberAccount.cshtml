@{
    Layout = "../Shared/_Layout.cshtml";
    ViewBag.Title = "Chi tiết";
}
@section js{
    <script src="~/Assets/js/controller/userController.js"></script>
}


<div class="content">
    <div class="container-fluid">

        <div class="row">
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title" style="font-family:Arial, Helvetica, sans-serif">Thông tin khách hàng</h2>
                    </div>
                    <div class="card-body">
                        <form>
                            <div class="row">
                                <div class="col-md-5 pr-1">
                                    <div class="form-group">
                                        <label>Họ và tên</label>
                                        <input type="text" class="form-control" disabled="" placeholder="Họ và tên" value="@(((Models.EF.User)Session[OnlineShop.Common.CommonConstants.USER_SESSION]).Name)" readonly>
                                    </div>
                                </div>
                                <div class="col-md-3 px-1">
                                    <div class="form-group">
                                        <label>Email</label>
                                        <input type="email" class="form-control" placeholder="Email" value="@(((Models.EF.User)Session[OnlineShop.Common.CommonConstants.USER_SESSION]).Email)" readonly>
                                    </div>
                                </div>
                                <div class="col-md-4 pl-1">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Số điện thoại</label>
                                        <input type="number" class="form-control" placeholder="Số điện thoại" value="@(((Models.EF.User)Session[OnlineShop.Common.CommonConstants.USER_SESSION]).Mobile)" readonly>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 pr-1">
                                    <div class="form-group">
                                        <label>Tên  đăng nhập</label>
                                        <input type="text" class="form-control" placeholder="Tên đăng nhập" value="@(((Models.EF.User)Session[OnlineShop.Common.CommonConstants.USER_SESSION]).Username)" readonly>
                                    </div>
                                </div>
                                <div class="col-md-6 pl-1">
                                    <div class="form-group">
                                        <label>Mật khẩu</label>
                                        <input type="password" class="form-control" placeholder="Mật khẩu" value="@(((Models.EF.User)Session[OnlineShop.Common.CommonConstants.USER_SESSION]).Password)" readonly>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label>Địa chỉ</label>
                                        <input type="text" class="form-control" placeholder="Địa chỉ" value="@(((Models.EF.User)Session[OnlineShop.Common.CommonConstants.USER_SESSION]).Address)" readonly>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4 pr-1">
                                    <div class="form-group">
                                        <label>Sinh nhật</label>
                                        <input type="datetime" class="form-control" placeholder="Sinh nhật" value="@(((Models.EF.User)Session[OnlineShop.Common.CommonConstants.USER_SESSION]).BirthDay)" readonly>
                                    </div>
                                </div>
                                <div class="col-md-4 px-1">
                                    <div class="form-group">
                                        <label>Ngày đăng ký</label>
                                        <input type="datetime" class="form-control" placeholder="Ngày đăng ký" value="@(((Models.EF.User)Session[OnlineShop.Common.CommonConstants.USER_SESSION]).CreatedDate)" readonly>
                                    </div>
                                </div>
                                <div class="col-md-4 pl-1">
                                    <div class="form-group">
                                        <label>Trạng thái</label>
                                        <input type="text"  class="user-status form-control" placeholder="Trạng thái" value="@(((Models.EF.User)Session[OnlineShop.Common.CommonConstants.USER_SESSION]).Status ? "Đang hoạt động" : "Đã bị khóa")" readonly>
                                    </div>
                                </div>
                            </div>

                            <button type="submit" class="btn-blockuser btn btn-info btn-fill pull-right" data-id="@(((Models.EF.User)Session[OnlineShop.Common.CommonConstants.USER_SESSION]).Username)">
                                @(((Models.EF.User)Session[OnlineShop.Common.CommonConstants.USER_SESSION]).Status ? "Khóa người dùng" : "Bỏ khóa người dùng")
                            </button>
                            <button type="submit" class="btn btn-info btn-fill pull-left">
                                @Html.ActionLink("Quay về", "Index", "Order", null, new { @class = "text-white" })
                            </button>
                            <div class="clearfix"></div>
                        </form>
                    </div>
                </div>
            </div>

            <div class="col-md-4" style="height:300px">
                <div class="card">
                    <div class="card-body">
                        <div class="author">
                            <h4 class="text-primary">@(((Models.EF.User)Session[OnlineShop.Common.CommonConstants.USER_SESSION]).Name)</h4>
                            <div class="text-success">@(((Models.EF.User)Session[OnlineShop.Common.CommonConstants.USER_SESSION]).Email)</div>
                            <h5 class="text-info">SĐT : @(((Models.EF.User)Session[OnlineShop.Common.CommonConstants.USER_SESSION]).Mobile)</h5>
                        </div>
                    </div>
                </div>
                <div class="row m-t-10">
                    <div class="col-lg-12" style="height:300px">
                        <div class="card mb-3">
                            <div class="card-header">
                                <div class="caption text-primary">
                                    <i class="ti-panel"></i> Các hoạt động gần đây
                                </div>
                            </div>
                            <div class="card-body scrollbox-md" data-simplebar="init">
                                <div class="simplebar-wrapper" style="margin: -19px;">
                                    <div class="simplebar-height-auto-observer-wrapper">
                                        <div class="simplebar-height-auto-observer"></div>
                                    </div>
                                    <div class="simplebar-mask">
                                        <div class="simplebar-offset" style="right: 0px; bottom: 0px;">
                                            <div class="simplebar-content-wrapper" style="height: 240px;">
                                                <div class="simplebar-content" style="padding: 19px;height:240px;overflow-y:scroll">
                                                    <div class="timeline-wrapper">
                                                        @foreach (var item in ViewBag.Review)
                                                        {
                                                            <div class="timeline-item" data-date="@item.CreatedDate">
                                                                Ngày @item.CreatedDate đã nhận xét sản phẩm có mã @item.ProductCode: <br />
                                                                @for (int i = 0; i < item.ReviewPoint; i++)
                                                                {
                                                                    <span class="fa fa-star" style="color:orange"></span>
                                                                }
                                                                @for (int i = 0; i < 5 - item.ReviewPoint; i++)
                                                                {
                                                                    <span class="fa fa-star"></span>
                                                                }

                                                                <p> @item.Text</p>
                                                            </div>
                                                            <hr />
                                                        }
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <button type="submit" class="btn btn-info btn-fill m-t-10">
                    @Html.ActionLink("Các đơn hàng đã đặt", "Member", null, new { id = ((Models.EF.User)Session[OnlineShop.Common.CommonConstants.USER_SESSION]).ID }, new { @class = "text-white w-100" })
                </button>
            </div>
        
        </div>
    </div>
</div>


